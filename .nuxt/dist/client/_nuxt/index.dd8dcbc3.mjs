import{_ as N,a as B,b as r}from"./SubmitButton.vue_vue_type_script_setup_true_lang.f40b7af6.mjs";import{a as U,B as p,k as q,D as k,K as y,r as u,o as E,b as O,e as l,w as d,u as t,E as D,x as S,f,G as C,Q as M,z as P}from"./entry.4f650c1e.mjs";const L=f(" Register"),F=f("test"),z=U({__name:"index",setup(R){const m=p(),i=p(),e=q({firstName:"",lastName:"",email:"",password1:"",password2:"",dateOfBirth:new Date}),s=k(),_=async()=>{await s.register(e),s.registerError||await s.login({username:e.email,password:e.password1}),s.loginError||P().replace("/")};return y(()=>[e.password1,e.dateOfBirth],(V,a)=>m.value.validate()),(V,a)=>{const w=N,n=u("v-text-field"),v=u("v-input"),b=B,g=u("v-container"),c=u("v-form"),x=C;return E(),O("div",null,[l(c,{onSubmit:D(_,["prevent"]),ref_key:"form",ref:m,modelValue:i.value,"onUpdate:modelValue":a[7]||(a[7]=o=>i.value=o)},{default:d(()=>[l(g,null,{default:d(()=>[l(w,{error:t(s).registerError},null,8,["error"]),l(n,{label:"First Name",modelValue:e.firstName,"onUpdate:modelValue":a[0]||(a[0]=o=>e.firstName=o),rules:[t(r).required()]},null,8,["modelValue","rules"]),l(n,{label:"Last Name",modelValue:e.lastName,"onUpdate:modelValue":a[1]||(a[1]=o=>e.lastName=o),rules:[t(r).required()]},null,8,["modelValue","rules"]),l(n,{label:"Email",modelValue:e.email,"onUpdate:modelValue":a[2]||(a[2]=o=>e.email=o),rules:[t(r).required(),t(r).email()]},null,8,["modelValue","rules"]),l(n,{label:"Password",modelValue:e.password1,"onUpdate:modelValue":a[3]||(a[3]=o=>e.password1=o),type:"password",rules:[t(r).required()]},null,8,["modelValue","rules"]),l(n,{label:"Confirm Password",modelValue:e.password2,"onUpdate:modelValue":a[4]||(a[4]=o=>e.password2=o),type:"password",rules:[t(r).required(),t(r).equals(e.password1,"Password fields do not match")]},null,8,["modelValue","rules"]),l(v,{modelValue:e.dateOfBirth,"onUpdate:modelValue":a[6]||(a[6]=o=>e.dateOfBirth=o),rules:[t(r).dateYearsBefore(18,"Must be at least 18 years of age to create an account")]},{default:d(()=>[l(t(M),{modelValue:e.dateOfBirth,"onUpdate:modelValue":a[5]||(a[5]=o=>e.dateOfBirth=o),required:"",maxDate:new Date,preventMinMaxNavigation:"",enableTimePicker:!1},null,8,["modelValue","maxDate"])]),_:1},8,["modelValue","rules"]),l(b,{loading:t(s).loginLoading||t(s).loginLoading,disabled:!i.value},{default:d(()=>[L]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["onSubmit","modelValue"]),S("div",null,[l(x,{to:"/test"},{default:d(()=>[F]),_:1})])])}}});export{z as default};
