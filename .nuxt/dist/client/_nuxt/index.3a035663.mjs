import{L as E,M as O,N as x,O as M,B as C,K as A,P as R,u as h,a as S,v as z,D as H,q as I,o as f,b as u}from"./entry.4f650c1e.mjs";const K=()=>null;function N(...s){var m,v,k,w,g,D,b;const c=typeof s[s.length-1]=="string"?s.pop():void 0;typeof s[0]!="string"&&s.unshift(c);let[a,l,e={}]=s;if(typeof a!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof l!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");e.server=(m=e.server)!=null?m:!0,e.default=(v=e.default)!=null?v:K,e.defer&&console.warn("[useAsyncData] `defer` has been renamed to `lazy`. Support for `defer` will be removed in RC."),e.lazy=(w=(k=e.lazy)!=null?k:e.defer)!=null?w:!1,e.initialCache=(g=e.initialCache)!=null?g:!0;const t=E(),o=R();if(o&&!o._nuxtOnBeforeMountCbs){const i=o._nuxtOnBeforeMountCbs=[];o&&(O(()=>{i.forEach(r=>{r()}),i.splice(0,i.length)}),x(()=>i.splice(0,i.length)))}const y=()=>e.initialCache&&t.payload.data[a]!==void 0,n={data:M((D=t.payload.data[a])!=null?D:e.default()),pending:C(!y()),error:C((b=t.payload._errors[a])!=null?b:null)};n.refresh=(i={})=>t._asyncDataPromises[a]?t._asyncDataPromises[a]:i._initial&&y()?t.payload.data[a]:(n.pending.value=!0,t._asyncDataPromises[a]=new Promise((r,P)=>{try{r(l(t))}catch(B){P(B)}}).then(r=>{e.transform&&(r=e.transform(r)),e.pick&&(r=T(r,e.pick)),n.data.value=r,n.error.value=null}).catch(r=>{n.error.value=r,n.data.value=h(e.default())}).finally(()=>{n.pending.value=!1,t.payload.data[a]=n.data.value,n.error.value&&(t.payload._errors[a]=!0),delete t._asyncDataPromises[a]}),t._asyncDataPromises[a]);const p=()=>n.refresh({_initial:!0}),_=e.server!==!1&&t.payload.serverRendered;{_&&t.isHydrating&&a in t.payload.data?n.pending.value=!1:o&&t.payload.serverRendered&&(t.isHydrating||e.lazy)?o._nuxtOnBeforeMountCbs.push(p):p(),e.watch&&A(e.watch,()=>n.refresh());const i=t.hook("app:data:refresh",r=>{if(!r||r.includes(a))return n.refresh()});o&&x(i)}const d=Promise.resolve(t._asyncDataPromises[a]).then(()=>n);return Object.assign(d,n),d}function T(s,c){const a={};for(const l of c)a[l]=s[l];return a}const j={key:0},q={key:1},L={key:0},U={key:1},V={key:0},F={key:1},$=S({__name:"index",async setup(s){let c,a;const l=z(),e=H(),{data:t,pending:o,error:y,refresh:n}=([c,a]=I(()=>N("verify-email",()=>e.verifyEmail({key:l.params.key}),"$KmM6GNUusq")),c=await c,a(),c);return(p,_)=>{var d;return f(),u("div",null,[h(o)?(f(),u("h1",j,"Loading...")):(f(),u("div",q,[h(y)?(f(),u("div",U,[(d=h(e).profile)!=null&&d.emailVerified?(f(),u("h1",V,"Email has already been verified")):(f(),u("h1",F,"There was an error verifying your email"))])):(f(),u("h1",L,"Email Has Been Verified Succesfully"))]))])}}});export{$ as default};
